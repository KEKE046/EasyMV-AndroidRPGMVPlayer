<?xml version="1.0" encoding="utf-8"?>
<resources>

    <string name="query_webgl">webgl</string>
    <string name="query_canvas">canvas</string>
    <string name="query_noaudio">noaudio</string>
    <string name="query_showfps">showfps</string>

    <string name="fix_local_storage_objcet">
        __fix_localStorage
    </string>
    <string name="bootstrap_object">
        __bootstrap
    </string>
    <!-- fix_local_storage_js
    console.log(__fix_localStorage);
    delete localStorage; delete window.localStorage;
    localStorage = function() {};
    localStorage.data = function() {};
    localStorage.cached = function() {};
    localStorage.getItem = function(key) {
        if(!localStorage.cached[key]) {
            localStorage.data[key] = __fix_localStorage.getItem(key);
            localStorage.cached[key] = true;
        }
        if(!localStorage.data[key]) {
            return null;
        }
        return localStorage.data[key];
    };
    localStorage.setItem = function(key, value) {
        var oldValue = localStorage.data[key];
        if(oldValue != value) {
            localStorage.data[key] = value;
            localStorage.cached[key] = true;
            setTimeout(function() {
                __fix_localStorage.setItem(key, localStorage.data[key]);
            }, 0);
        }
    };
    localStorage.clear = function() {
        localStorage.data = function() {}
        setTimeout(function() {
            __fix_localStorage.clear();
        }, 0);
    };
    localStorage.removeItem = function(key) {
        if(localStorage.cached[key]) {
            delete localStorage.data[key];
        }
        else {
            localStorage.cached[key] = true;
        }
        setTimeout(function() {
            __fix_localStorage.removeItem(key);
        }, 0);
    };
    window.localStorage = localStorage;
    -->
    <string name="fix_local_storage_js">
CmNvbnNvbGUubG9nKF9fZml4X2xvY2FsU3RvcmFnZSk7CmRlbGV0ZSBsb2NhbFN0b3JhZ2U7IGRl
bGV0ZSB3aW5kb3cubG9jYWxTdG9yYWdlOwpsb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbigpIHt9Owps
b2NhbFN0b3JhZ2UuZGF0YSA9IGZ1bmN0aW9uKCkge307CmxvY2FsU3RvcmFnZS5jYWNoZWQgPSBm
dW5jdGlvbigpIHt9Owpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSA9IGZ1bmN0aW9uKGtleSkgewogICAg
aWYoIWxvY2FsU3RvcmFnZS5jYWNoZWRba2V5XSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5kYXRh
W2tleV0gPSBfX2ZpeF9sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpOwogICAgICAgIGxvY2FsU3Rv
cmFnZS5jYWNoZWRba2V5XSA9IHRydWU7CiAgICB9CiAgICBpZighbG9jYWxTdG9yYWdlLmRhdGFb
a2V5XSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgcmV0dXJuIGxvY2FsU3RvcmFn
ZS5kYXRhW2tleV07Cn07CmxvY2FsU3RvcmFnZS5zZXRJdGVtID0gZnVuY3Rpb24oa2V5LCB2YWx1
ZSkgewogICAgdmFyIG9sZFZhbHVlID0gbG9jYWxTdG9yYWdlLmRhdGFba2V5XTsKICAgIGlmKG9s
ZFZhbHVlICE9IHZhbHVlKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLmRhdGFba2V5XSA9IHZhbHVl
OwogICAgICAgIGxvY2FsU3RvcmFnZS5jYWNoZWRba2V5XSA9IHRydWU7CiAgICAgICAgc2V0VGlt
ZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgX19maXhfbG9jYWxTdG9yYWdlLnNldEl0ZW0o
a2V5LCBsb2NhbFN0b3JhZ2UuZGF0YVtrZXldKTsKICAgICAgICB9LCAwKTsKICAgIH0KfTsKbG9j
YWxTdG9yYWdlLmNsZWFyID0gZnVuY3Rpb24oKSB7CiAgICBsb2NhbFN0b3JhZ2UuZGF0YSA9IGZ1
bmN0aW9uKCkge30KICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgX19maXhfbG9j
YWxTdG9yYWdlLmNsZWFyKCk7CiAgICB9LCAwKTsKfTsKbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0g
PSBmdW5jdGlvbihrZXkpIHsKICAgIGlmKGxvY2FsU3RvcmFnZS5jYWNoZWRba2V5XSkgewogICAg
ICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2UuZGF0YVtrZXldOwogICAgfQogICAgZWxzZSB7CiAgICAg
ICAgbG9jYWxTdG9yYWdlLmNhY2hlZFtrZXldID0gdHJ1ZTsKICAgIH0KICAgIHNldFRpbWVvdXQo
ZnVuY3Rpb24oKSB7CiAgICAgICAgX19maXhfbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTsK
ICAgIH0sIDApOwp9Owp3aW5kb3cubG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlOwo=
    </string>
    <string name="force_audio_ext_js">
        AudioManager.audioFileExt = function(){ return $1;};
    </string>

    <!-- bootstrap_html
    <!DOCTYPE html>
    <html>
        <head>
            <meta charset=UTF-8>
            <style>
                body{background-color:black}
            </style>
        </head>
        <body>
            <script type="text/javascript">
                function webgl(){
                    try{
                        var e=document.createElement("canvas");
                        return !!e.getContext("webgl") || !!e.getContext("experimental-webgl");
                    }catch(e){
                        return false;
                    }
                }
                function webaudio() {
                    try {
                        var e=null;
                        if(typeof AudioContext != "undefined") {
                            e=new AudioContext;
                        }
                        else if(typeof webkitAudioContext != "undefined") {
                            e=new webkitAudioContext;
                        }
                        return !!e;
                    }catch(e) {
                        return false;
                    }
                }
                __bootstrap.prepare(webgl(), webaudio());
            </script>
        </body>
    </html>
    -->
    <string name="bootstrap_html">
        CjwhRE9DVFlQRSBodG1sPgo8aHRtbD4KICAgIDxoZWFkPgogICAgICAgIDxtZXRhIGNoYXJzZXQ9
        VVRGLTg+CiAgICAgICAgPHN0eWxlPgogICAgICAgICAgICBib2R5e2JhY2tncm91bmQtY29sb3I6
        YmxhY2t9CiAgICAgICAgPC9zdHlsZT4KICAgIDwvaGVhZD4KICAgIDxib2R5PgogICAgICAgIDxz
        Y3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgICAgICAgICAgZnVuY3Rpb24gd2ViZ2wo
        KXsKICAgICAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgICAgICB2YXIgZT1kb2N1bWVu
        dC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFl
        LmdldENvbnRleHQoIndlYmdsIikgfHwgISFlLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJn
        bCIpOwogICAgICAgICAgICAgICAgfWNhdGNoKGUpewogICAgICAgICAgICAgICAgICAgIHJldHVy
        biBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5j
        dGlvbiB3ZWJhdWRpbygpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAg
        ICAgdmFyIGU9bnVsbDsKICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgQXVkaW9Db250ZXh0
        ICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGU9bmV3IEF1ZGlvQ29u
        dGV4dDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZih0
        eXBlb2Ygd2Via2l0QXVkaW9Db250ZXh0ICE9ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAg
        ICAgICAgICAgIGU9bmV3IHdlYmtpdEF1ZGlvQ29udGV4dDsKICAgICAgICAgICAgICAgICAgICB9
        CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhZTsKICAgICAgICAgICAgICAgIH1jYXRjaChl
        KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQog
        ICAgICAgICAgICB9CiAgICAgICAgICAgIF9fYm9vdHN0cmFwLmJvb3Qod2ViZ2woKSwgd2ViYXVk
        aW8oKSk7CiAgICAgICAgPC9zY3JpcHQ+CiAgICA8L2JvZHk+CjwvaHRtbD4K
    </string>
</resources>